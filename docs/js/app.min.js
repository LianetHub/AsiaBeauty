(()=>{"use strict";$((function(){"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1});const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<768?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function s(){const e=Math.ceil($(".header__wrapper").outerHeight());$("body").css("--header-height",e+"px")}t(),$(window).on("resize",(()=>{t()})),$(".tabs").each((function(){$(this).find(".tab-btn").each((function(e){0==e&&$(this).addClass("active")})),$(this).find(".tab-content").each((function(e){0==e?$(this).addClass("active"):$(this).removeClass("active")}))})),$(".tab-btn").on("click",(e=>{let t=$(e.target);t.addClass("active").siblings().removeClass("active").closest(".tabs").find(".tab-content").removeClass("active").eq(t.index()).addClass("active")})),$(document).on("click",(e=>{let t=$(e.target);t.closest(".header__menu-toggler").length&&($(".header__menu-toggler").toggleClass("active"),$(".header").toggleClass("header--open-menu"),$(".menu").toggleClass("menu--open"),function(e){const t=$("body");let s="lock";if(t.hasClass(s)){let e=parseInt(t.data("position"),10);t.css("top","auto"),window.scroll({top:e,left:0}),t.removeAttr("data-position")}else{let e=window.scrollY;t.data("position",e),t.css("top",-e+"px")}let i=t.hasClass(s)?"0px":window.innerWidth-$(".wrapper").width()+"px";t.css("--lock-padding",i),t.toggleClass(s)}()),t.closest(".catalog__filter-toggler").length&&($(".catalog__filter-toggler").toggleClass("active"),$(".catalog__filters").slideToggle()),t.is(".favorite-btn")&&t.toggleClass("active")})),s(),$(window).on("resize",s),$(".header__wrapper").on("transitionend",(function(){s()}));class i{constructor(e,t={},{mode:s="min",breakpoint:i=767.98}={}){this.selector=e,this.options=t,this.mode=s.toLowerCase(),this.breakpoint=i,this.swiperInstance=null,this.isInitialized=!1,this.handleResize=this.handleResize.bind(this),this.handleResize(),window.addEventListener("resize",this.handleResize)}shouldInitialize(){const e=window.innerWidth;return"min"===this.mode?e<=this.breakpoint:"max"===this.mode&&e>this.breakpoint}initializeSwiper(){this.isInitialized||(this.swiperInstance=new Swiper(this.selector,this.options),this.isInitialized=!0)}destroySwiper(){this.isInitialized&&this.swiperInstance&&(this.swiperInstance.destroy(!0,!0),this.swiperInstance=null,this.isInitialized=!1)}handleResize(){this.shouldInitialize()?this.initializeSwiper():this.destroySwiper()}destroy(){window.removeEventListener("resize",this.handleResize),this.destroySwiper()}}$(".certs__slider").length>0&&$(".certs__slider").each((function(e,t){let s=$(t).find(".certs__slider-pagination")[0],i=$(t).find(".certs__slider-main")[0],n=$(t).find(".certs__slider-thumbs")[0],o=new Swiper(n,{slidesPerView:4,spaceBetween:8,watchSlidesProgress:!0,watchOverflow:!0,speed:800,loop:!0,slideToClickedSlide:!0});new Swiper(i,{slidesPerView:1,spaceBetween:20,speed:800,watchOverflow:!0,loop:!0,autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1},pagination:{el:s,clickable:!0},thumbs:{swiper:o}})})),$(".news__slider").length>0&&new Swiper(".news__slider",{slidesPerView:"auto",spaceBetween:20,speed:800,navigation:{nextEl:".news__slider-next",prevEl:".news__slider-prev"},breakpoints:{575.98:{spaceBetween:29}}}),$(".brands__slider").length>0&&new Swiper(".brands__slider",{slidesPerView:"auto",spaceBetween:60,speed:1e4,loop:!0,autoplay:{delay:1,stopOnLastSlide:!1,disableOnInteraction:!1},breakpoints:{767.98:{spaceBetween:120}}}),$(".services__slider").length>0&&new Swiper(".services__slider",{slidesPerView:"auto",spaceBetween:25}),$(".places__slider").length>0&&new Swiper(".places__slider",{slidesPerView:"auto",spaceBetween:11,watchOverflow:!0,breakpoints:{767.98:{spaceBetween:38}}}),$(".deposits__slider").length>0&&new Swiper(".deposits__slider",{slidesPerView:"auto",spaceBetween:39,watchOverflow:!0,speed:300,mousewheel:!0,breakpoints:{767.98:{spaceBetween:30}}}),$(".recommendations__slider").length>0&&new Swiper(".recommendations__slider",{slidesPerView:"auto",spaceBetween:15,speed:300,loop:!0,grabCursor:!0,breakpoints:{767.98:{spaceBetween:30}}}),$(".salons__item-slider").length>0&&$(".salons__item-slider").each((function(e,t){let s=$(t).find(".swiper")[0],i=$(t).find(".salons__item-prev")[0],n=$(t).find(".salons__item-next")[0],o=$(t).find(".salons__item-slider-pagination")[0];new Swiper(s,{slidesPerView:1,speed:800,pagination:{el:o,clickable:!0},navigation:{nextEl:n,prevEl:i}})})),$(".services-slider").length>0&&new i(".services-slider",{slidesPerView:"auto",speed:300,mousewheel:!0,spaceBetween:9},{mode:"max",breakpoint:575.98}),$(".catalog__slider").length>0&&new i(".catalog__slider",{slidesPerView:"auto",speed:800,spaceBetween:90,watchOverflow:!0,navigation:{nextEl:".catalog__slider-next",prevEl:".catalog__slider-prev"}},{mode:"max",breakpoint:575.98}),$(".media__slider").length>0&&new Swiper(".media__slider",{slidesPerView:"auto",spaceBetween:18,watchOverflow:!0,speed:300,breakpoints:{991.98:{slidesPerView:4,spaceBetween:34}}}),$(".catalog__carousel").length>0&&$(".catalog__carousel").each((function(e,t){new Swiper(t,{spaceBetween:30,slidesPerView:"auto",speed:800,watchOverflow:!0,breakpoints:{767.98:{spaceBetween:65}}})})),$(".about__slider").length>0&&$(".about__slider").each((function(e,t){let s=$(t).find(".about__slider-pagination")[0];new Swiper(t,{slidesPerView:1,watchOverflow:!0,pagination:{el:s,clickable:!0}})}));var n=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},a=function(e){var t=e.target,s=o(t),i=e.clipboardData||window.clipboardData;if(i){var n=i.getData("Text");if(/\D/g.test(n))return void(t.value=s)}},r=function(e){var t=e.target,s=o(t),i=t.selectionStart,n="";if(!s)return t.value="";t.value.length==i?(s.length>11&&(s=s.substring(0,11)),n="+7 (",s.length>=2&&(n+=s.substring(1,4)),s.length>=5&&(n+=") "+s.substring(4,7)),s.length>=8&&(n+="-"+s.substring(7,9)),s.length>=10&&(n+="-"+s.substring(9,11)),t.value=n):e.data&&/\D/g.test(e.data)&&(t.value=s)},d=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var l of n)l.addEventListener("focus",(function(){this.value||(this.value="+7 ")})),l.addEventListener("keydown",d),l.addEventListener("input",r,!1),l.addEventListener("paste",a,!1);class c{static openDropdown=null;constructor(e){this.$select=$(e),this.placeholder=this.$select.data("placeholder"),this.listCaption=this.$select.data("list-caption"),this.defaultText=this.getDefaultText(),this.selectName=this.$select.attr("name"),this.$options=this.$select.find("option"),this.$dropdown=null,this.initialState={},this.init()}init(){this.$select.length&&(this.saveInitialState(),this.$select.addClass("hidden"),this.renderDropdown(),this.setupEvents())}saveInitialState(){const e=this.$select.find("option:selected");this.initialState={selectedText:e.text(),selectedValue:e.val()}}getDefaultText(){const e=this.$select.find("option[selected]");return e.length?e.text():this.placeholder||this.$select.find("option:selected").text()}renderDropdown(){const e=`\n            <button type="button" class="dropdown__button icon-arrows" \n                    aria-expanded="false" \n                    aria-haspopup="true" \n                    ${this.$select.is(":disabled")?"disabled":""}>\n                <span class="dropdown__button-text">${this.defaultText}</span>\n            </button>\n        `;this.$dropdown=$("<div>").addClass("dropdown");const t=this.listCaption?`<div class="dropdown__caption">${this.listCaption}</div>`:"";this.$dropdown.html(`\n            ${e}\n            <div class="dropdown__body" aria-hidden="true">\n               <div class="dropdown__content">\n                    ${t}\n                    <ul class="dropdown__list" role="listbox"></ul>\n                </div>\n            </div>\n        `);const s=this.$dropdown.find(".dropdown__list");this.$options.each(((e,t)=>{const i=$(t),n=i.val(),o=i.text(),a=i.is(":selected"),r=i.is(":disabled"),d=$("<li>").attr("role","option").data("value",n).attr("aria-checked",a).addClass("dropdown__list-item").text(o);a&&d.addClass("selected"),r&&(d.addClass("disabled"),d.attr("aria-disabled","true")),s.append(d)})),this.$select.after(this.$dropdown)}setupEvents(){this.$dropdown.find(".dropdown__button").on("click",(e=>{e.stopPropagation();const t=this.$dropdown.hasClass("visible");this.toggleDropdown(!t)})),this.$dropdown.on("click",".dropdown__list-item",(e=>{e.stopPropagation();const t=$(e.currentTarget);t.hasClass("disabled")||this.selectOption(t)})),$(document).on("click",(()=>this.closeDropdown())),$(document).on("keydown",(e=>{"Escape"===e.key&&this.closeDropdown()})),this.$select.closest("form").on("reset",(()=>this.restoreInitialState()))}toggleDropdown(e){e&&c.openDropdown&&c.openDropdown!==this&&c.openDropdown.closeDropdown();const t=this.$dropdown.find(".dropdown__body"),s=this.$dropdown.find(".dropdown__list"),i=s[0].scrollHeight>s[0].clientHeight;if(this.$dropdown.toggleClass("visible",e),this.$dropdown.find(".dropdown__button").attr("aria-expanded",e),t.attr("aria-hidden",!e),e){c.openDropdown=this,this.$dropdown.removeClass("dropdown-top");const e=t[0].getBoundingClientRect(),n=window.innerHeight;e.bottom>n&&this.$dropdown.addClass("dropdown-top"),s.toggleClass("has-scroll",i)}else c.openDropdown===this&&(c.openDropdown=null)}closeDropdown(){this.toggleDropdown(!1)}selectOption(e){const t=e.data("value"),s=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),e.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button").addClass("selected"),this.$dropdown.find(".dropdown__button-text").text(s),this.$select.val(t).trigger("change"),this.closeDropdown()}restoreInitialState(){if(void 0!==this.placeholder)this.$select.prop("selectedIndex",-1).trigger("change"),this.$dropdown.find(".dropdown__button-text").text(this.placeholder),this.$dropdown.find(".dropdown__button").removeClass("selected"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false");else{const e=this.initialState;this.$select.val(e.selectedValue).trigger("change"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false");const t=this.$dropdown.find(`.dropdown__list-item[data-value="${e.selectedValue}"]`);t.length&&t.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(e.selectedText),this.$dropdown.find(".dropdown__button").addClass("selected")}}syncSelectedOption(){const e=this.$select.find("option:selected"),t=e.val(),s=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),this.$dropdown.find(`.dropdown__list-item[data-value="${t}"]`).addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(s)}}$(".select").each(((e,t)=>{new c(t)}));const p=$(".header");new IntersectionObserver((function(e,t){e[0].isIntersecting?p.removeClass("header--has-scroll"):p.addClass("header--has-scroll")})).observe(p[0]),gsap.registerPlugin(ScrollTrigger),function(){let e=gsap.matchMedia(),t=gsap.utils.toArray('[data-animate="card"]'),s=1;e.add("(min-width: 1439.98px)",(()=>{s=4})),e.add("(min-width: 991.98px) and (max-width: 1439.97px)",(()=>{s=3})),e.add("(min-width: 567.98px) and (max-width: 991.97px)",(()=>{s=2})),t.forEach(((e,i)=>{if(i%s==0){let n=i,o=i+s,a=t.slice(n,o);gsap.from(a,{opacity:0,y:50,duration:.7,stagger:.15,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 100%",toggleActions:"play none none none"}})}}))}(),function(){let e=gsap.utils.toArray('[data-animate="section"]');0!==e.length&&e.forEach((e=>{let t=gsap.utils.toArray(e.querySelectorAll('[data-animate="photo"]')),s=e.querySelector('[data-animate="title"]'),i=e.querySelectorAll('[data-animate="text"]'),n=gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none none"}});t.length>0&&n.from(t,{opacity:0,scale:.75,duration:1,stagger:.2,ease:"power2.out"}),s&&n.from(s,{opacity:0,y:30,duration:.6,ease:"power2.out"},t.length>0?"-=0.5":0),i.length>0&&n.from(i,{opacity:0,y:20,duration:.5,stagger:.15,ease:"power1.out"},s||t.length>0?"-=0.3":0)}))}(),function(){const e=document.querySelector(".footer-reveal-wrap"),t=document.querySelector(".footer-reveal-mask"),s=document.querySelector(".footer"),i=document.querySelector(".footer__overlay");e&&t&&s&&i&&gsap.matchMedia().add({isLarge:"(min-width: 1200px) and (min-height: 1040px)",isMedium:"(min-width: 992px) and (min-height: 970px)"},(n=>{let{isLarge:o,isMedium:a}=n.conditions;if(o||a){gsap.set(t,{yPercent:40}),gsap.set(s,{filter:"blur(5px)"}),gsap.set(i,{opacity:1});let n=gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom",end:"top top",scrub:!0}});n.to(t,{yPercent:0,ease:"none"},0),n.to(s,{filter:"blur(0px)",ease:"none"},0),n.to(i,{opacity:0,ease:"none"},0)}return()=>{gsap.set(t,{yPercent:0}),gsap.set(s,{filter:"blur(0px)"}),gsap.set(i,{opacity:0})}}))}(),function(){const e=gsap.utils.toArray('[data-animate="quadrant-shift"]');if(0===e.length)return;const t=[{x:0,y:0},{x:19,y:0},{x:19,y:19},{x:0,y:19}];e.forEach((e=>{const s=[e.querySelector(".q-1"),e.querySelector(".q-2"),e.querySelector(".q-4"),e.querySelector(".q-3")].filter(Boolean);if(0===s.length)return;s.forEach((e=>{e.setAttribute("x","0"),e.setAttribute("y","0")}));const i=s.length,n=s.map(((e,t)=>Math.floor(t*(4/i))));s.forEach(((e,s)=>{gsap.set(e,{x:t[n[s]].x,y:t[n[s]].y})}));const o=gsap.timeline({repeat:-1,repeatDelay:.4,defaults:{duration:.5,ease:"power2.inOut"},paused:!0});o.to(s,{x:e=>t[(n[e]+1)%4].x,y:e=>t[(n[e]+1)%4].y}),o.to(s,{x:e=>t[(n[e]+2)%4].x,y:e=>t[(n[e]+2)%4].y}),o.to(s,{x:e=>t[(n[e]+3)%4].x,y:e=>t[(n[e]+3)%4].y}),o.to(s,{x:e=>t[n[e]%4].x,y:e=>t[n[e]%4].y}),ScrollTrigger.create({trigger:e,start:"top 85%",onEnter:()=>o.restart(!0),onLeaveBack:()=>o.pause(0)})}))}()}))})();